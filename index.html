<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Be My Valentine? ðŸ’˜</title>

<style>
/* ================= GLOBAL ================= */
*{ box-sizing:border-box; }
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-family: system-ui, -apple-system, Segoe UI, Roboto;
  background:
    radial-gradient(1200px 800px at 20% 20%, rgba(255,255,255,.22), transparent 55%),
    radial-gradient(1000px 700px at 80% 20%, rgba(255,255,255,.14), transparent 60%),
    linear-gradient(135deg, #ff2d6f, #ff7aa8 45%, #ffd1dc);
  overflow:hidden;
}

/* ================= BACKGROUND HEARTS ================= */
.bg-hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
  opacity:.5;
}
.bg-hearts span{
  position:absolute;
  bottom:-40px;
  font-size:22px;
  animation: floatUp linear infinite;
}
@keyframes floatUp{
  to{ transform: translateY(-120vh); opacity:0; }
}

/* ================= CARD ================= */
.card{
  width:min(900px, 92vw);
  padding:32px;
  border-radius:24px;
  background: rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.28);
  backdrop-filter: blur(14px);
  box-shadow: 0 30px 80px rgba(0,0,0,.25);
  position:relative;
}

/* ================= TEXT ================= */
h1{
  font-size: clamp(32px, 5vw, 56px);
}
.sub{
  font-size:18px;
  line-height:1.6;
}

/* ================= STAGE ================= */
.stage{
  position:relative;
  height:260px;
  margin-top:20px;
  border-radius:20px;
  background: rgba(0,0,0,.1);
  overflow:hidden;
}

.btn{
  position:absolute;
  padding:14px 20px;
  font-size:18px;
  font-weight:800;
  border-radius:16px;
  border:none;
  cursor:pointer;
}

#yesBtn{
  left:22%;
  top:55%;
  transform: translate(-50%, -50%);
  background:#fff;
  color:#ff4d8d;
  transition: transform .2s ease;
}

#noBtn{
  left:72%;
  top:55%;
  transform: translate(-50%, -50%);
  background: rgba(0,0,0,.2);
  color:#fff;
  pointer-events:none;
}

/* ================= HINT ================= */
.hint{
  margin-top:14px;
  text-align:center;
  opacity:.9;
}

/* ================= MUSIC BUTTON (FIXED) ================= */
.music-btn{
  position: fixed;
  top:20px;
  right:20px;
  z-index:9999;
  width:48px;
  height:48px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.3);
  background: rgba(255,255,255,.25);
  backdrop-filter: blur(10px);
  font-size:20px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="bg-hearts" id="bgHearts"></div>

<!-- MUSIC BUTTON (outside card, fixed) -->
<button class="music-btn" id="musicBtn">ðŸ”‡</button>

<main class="card">
  <h1>Will you be my Valentine? ðŸ’–</h1>
  <p class="sub">
    From the moment you came into my life, everything got softer, warmer and brighter.
    Will you be my Valentine?
  </p>

  <section class="stage" id="stage">
    <button class="btn" id="yesBtn">YES ðŸ’ž</button>
    <button class="btn" id="noBtn">NO ðŸ™ˆ</button>
  </section>

  <div class="hint">
    Together since <strong>27/02/2018</strong> ðŸ’–
  </div>
</main>

<script>
/* ============ FLOATING HEARTS ============ */
const bg = document.getElementById("bgHearts");
["ðŸ’—","ðŸ’–","ðŸ’˜","ðŸ’ž"].forEach((h,i)=>{
  const s=document.createElement("span");
  s.textContent=h;
  s.style.left=(Math.random()*100)+"vw";
  s.style.animationDuration=(6+Math.random()*6)+"s";
  bg.appendChild(s);
});

/* ============ MUSIC (CHROME SAFE) ============ */
const musicBtn = document.getElementById("musicBtn");
const audio = new Audio("https://cdn.pixabay.com/download/audio/2022/10/30/audio_5d7a5d6c63.mp3");
audio.loop = true;
audio.volume = 0.35;
let playing = false;

musicBtn.addEventListener("click", async () => {
  if(!playing){
    await audio.play();   // REAL user gesture
    musicBtn.textContent = "ðŸ”Š";
    playing = true;
  }else{
    audio.pause();
    musicBtn.textContent = "ðŸ”‡";
    playing = false;
  }
});

/* ============ NO RUNS, YES GROWS ============ */
const stage = document.getElementById("stage");
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");

let yesScale = 1;

function moveNo(){
  const r = stage.getBoundingClientRect();
  noBtn.style.left = Math.random()*(r.width-100)+"px";
  noBtn.style.top  = Math.random()*(r.height-60)+"px";

  yesScale = Math.min(yesScale + 0.12, 2.6);
  yesBtn.style.transform = `translate(-50%, -50%) scale(${yesScale})`;
}

stage.addEventListener("mousemove", moveNo);
stage.addEventListener("touchstart", moveNo);

/* ============ YES CLICK ============ */
yesBtn.addEventListener("click", async () => {
  if(!playing){
    await audio.play();
    musicBtn.textContent = "ðŸ”Š";
    playing = true;
  }
  alert("YAAAY ðŸ’˜ðŸ’˜ðŸ’˜");
});
</script>

</body>
</html>
